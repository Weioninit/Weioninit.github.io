---
title: LBP
categories: 
- image processing
---

# Local Binary Pattern 描述
LBP是为了描述局部的纹理的特征而产生的，通过比较两个像素的大小来生成binary type=(0,1)，产生0、1序列后，对其编码。  
对于局部，一般指3*3、5*5或者更大的邻域，将周围的像素（可为矩形，也可为圆形）与中心像素（middle）比较，大于则为1，小于则为0。一般按照顺时针方向排列为包含0、1的序列。
！[img1](https://raw.githubusercontent.com/Weioninit/Weioninit.github.io/master/markdownPhoto/2025775407486593186.jpg)  

# LBP等价模式
一个LBP算子可以产生不同的二进制模式，对于半径为R的圆形区域内含有P个采样点的LBP算子将会产生P2种模式。很显然，随着邻域集内采样点数的增加，二进制模式的种类是急剧增加的。
例如：5×5邻域内20个采样点，有220＝1,048,576种二进制模式。如此多的二值模式无论对于纹理的提取还是对于纹理的识别、分类及信息的存取都是不利的。同时，过多的模式种类对于纹理的表达是不利的。例如，将LBP算子用于纹理分类或人脸识别时，常采用LBP模式的统计直方图来表达图像的信息，而较多的模式种类将使得数据量过大，且直方图过于稀疏。  
因此，需要对原始的LBP模式进行降维，使得数据量减少的情况下能最好的代表图像的信息。  
为了解决二进制模式过多的问题，提高统计性，Ojala提出了采用一种“等价模式”（Uniform Pattern）来对LBP算子的模式种类进行降维。Ojala等认为，在实际图像中，绝大多数LBP模式最多只包含两次从1到0或从0到1的跳变。
因此，Ojala将“等价模式”定义为：当某个LBP所对应的循环二进制数从0到1或从1到0最多有两次跳变时，该LBP所对应的二进制就称为一个等价模式类。如00000000（0次跳变），00000111（只含一次从0到1的跳变），10001111（先由1跳到0，再由0跳到1，共两次跳变）都是等价模式类。

## LBP等价模式个数推导
**根据等价模式的定义，跳变次数少于等于2即为等价模式。**下面推导序列位数为p=8。

(1) 0次跳变，只有两种，即00...0或者111...1。  

(2) 2次跳变，此时我们通过0的个数进行分类：  

  count(0) = 1, 01111111, 10111111, ..., 11111110. **通过移动0的位置可产生p个不同的序列**  

  count(0) = 2, 00111111, 11001111, ..., 11111100  

  ...

  count(0) = p-1, 00000001, 10000000, 01000000, ..., 00000010   
  对于每一种0的个数的情况，都可以循环移动p次，从而产生p个不同序列。  

综上，对于Uniform，可以产生p*(p-1) + 2 种模式。
